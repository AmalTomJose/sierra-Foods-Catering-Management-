<h2>Notifications</h2>

<!-- Mark all as read button -->
<form method="POST" action="/admin/notifications/markRead">
  <button class="btn btn-sm btn-primary mb-3">Mark All As Read</button>
</form>

<!-- Notifications List -->
<ul class="list-group">
  <% notifications.forEach(n => { %>
    <li class="list-group-item d-flex justify-content-between align-items-start <%= !n.isRead ? 'list-group-item-warning' : '' %>">
      
      <div class="me-auto">
        <div><%= n.message %></div>
        <small class="text-muted"><%= n.createdAt.toLocaleString() %></small>
      </div>

      <% if (n.orderId) { %>
        <a href="/admin/orderDetails?orderId=<%= n.orderId %>" class="btn btn-outline-secondary btn-sm">View</a>
      <% } %>
    </li>   
  <% }) %>
</ul>
