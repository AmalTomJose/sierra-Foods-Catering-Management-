<main class="main" style="padding-top: 100px;">
    <section class="pt-150 pb-150">
      <div class="container">
        <div class="row justify-content-center">
          <div class="col-lg-10">
  
            <!-- ðŸ§¾ Orders Card -->
            <div class="card shadow-lg border-0 rounded-4">
                <div class="card-header bg-light bg-opacity-25 text-primary d-flex justify-content-between align-items-center rounded-top-4">
                    <h4 class="mb-0 fw-semibold">
                      <i class="bi bi-basket2-fill me-2 text-primary"></i>Your Orders
                    </h4>
                  </div>
                  
                  
                  
  
              <div class="card-body bg-light">
                <% if (orders.length === 0) { %>
                  <div class="text-center py-5">
                    <i class="bi bi-clipboard-x text-secondary fs-1"></i>
                    <p class="mt-3 mb-0 text-muted fs-5">No orders found</p>
                  </div>
                <% } else { %>
                  <div class="table-responsive">
                    <table class="table table-hover align-middle">
                      <thead class="table-primary text-center">
                        <tr>
                          <th>Order ID</th>
                          <th>Order Date</th>
                          <th>Delivery Date</th>
                          <th>Status</th>
                          <th>Total</th>
                          <th>Action</th>
                        </tr>
                      </thead>
                      <tbody>
                        <% orders.forEach(function(order_data) { 
                          let statusClass = '';
                          switch (order_data.status.toLowerCase()) {
                            case 'delivered': statusClass = 'badge bg-success'; break;
                            case 'pending': statusClass = 'badge bg-warning text-dark'; break;
                            case 'cancelled': statusClass = 'badge bg-danger'; break;
                            case 'processing': statusClass = 'badge bg-info text-dark'; break;
                            default: statusClass = 'badge bg-secondary';
                          }
                        %>
                          <tr class="text-center">
                            <td><strong><%= order_data.orderId %></strong></td>
                            <td><%= new Date(order_data.orderDate).toLocaleDateString() %></td>
                            <td><%= new Date(order_data.deliveryDate).toLocaleDateString() %></td>
                            <td><span class="<%= statusClass %> px-3 py-2"><%= order_data.status %></span></td>
                            <td class="fw-semibold text-success">â‚¹ <%= order_data.finalAmount.toLocaleString() %></td>
                            <td>
                              <a href="/orderDetails/<%= order_data._id %>" class="btn btn-outline-primary btn-sm rounded-pill px-3">
                                <i class="bi bi-eye me-1"></i> View
                              </a>
                            </td>
                          </tr>
                        <% }) %>
                      </tbody>
                    </table>
                  </div>
  
                  <!-- Pagination -->
                  <nav class="mt-4" aria-label="Page navigation">
                    <ul class="pagination justify-content-center">
                      <% if (currentPage > 1) { %>
                        <li class="page-item">
                          <a class="page-link" href="?page=<%= currentPage - 1 %>" aria-label="Previous">
                            <span aria-hidden="true">&laquo;</span>
                          </a>
                        </li>
                      <% } %>
  
                      <% for (let i = 1; i <= totalPages; i++) { %>
                        <li class="page-item <%= i === currentPage ? 'active' : '' %>">
                          <a class="page-link" href="?page=<%= i %>"><%= i %></a>
                        </li>
                      <% } %>
  
                      <% if (currentPage < totalPages) { %>
                        <li class="page-item">
                          <a class="page-link" href="?page=<%= currentPage + 1 %>" aria-label="Next">
                            <span aria-hidden="true">&raquo;</span>
                          </a>
                        </li>
                      <% } %>
                    </ul>
                  </nav>
                <% } %>
              </div>
            </div>
            <!-- /Orders Card -->
  
          </div>
        </div>
      </div>
    </section>
  </main>
  