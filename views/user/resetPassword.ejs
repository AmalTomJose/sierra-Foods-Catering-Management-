<main class="main">
  <section class="pt-150 pb-150">
    <div class="container">
      <div class="row">
        <div class="col-lg-10 m-auto">
          <div class="row">
            <div class="col-lg-3"></div>
            <div class="col-lg-6">
              <div class="login_wrap widget-taber-content p-30 background-white border-radius-10 mb-md-5 mb-lg-0 mb-sm-5">
                <div class="padding_eight_all bg-white">
                  <div class="heading_s1">
                    <h3 class="mb-30 text-center">Reset Password</h3>
                  </div>

                  <form method="POST" action="/resetPassword" onsubmit="return validationPasswordChecking(event)">
                    <div class="mb-3">
                      <input type="password" class="form-control" id="password" name="password" placeholder="New Password" />
                      <div id="errorpassword" class="form-text text-danger"></div>
                    </div>
                    <div class="mb-3">
                      <input type="password" class="form-control" id="cpassword" name="confirmPassword" placeholder="Confirm Password" />
                      <div id="errorcpassword" class="form-text text-danger"></div>
                    </div>
                    <button type="submit" class="btn btn-primary w-100">Reset Password</button>
                  </form>

             
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
</main>


<!-- Bootstrap -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
        crossorigin="anonymous"></script>

<!-- SweetAlert2 (Optional UI Enhancement) -->
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

<script>
document.addEventListener('DOMContentLoaded', function () {
  const password = document.getElementById("password");
  const cpassword = document.getElementById("cpassword");
  const errorpassword = document.getElementById("errorpassword");
  const errorcpassword = document.getElementById("errorcpassword");

  password.addEventListener('input', function () {
    if (password.value.trim() === "") {
      errorpassword.textContent = "Please enter password";
    } else if (password.value.length < 8) {
      errorpassword.textContent = "Password must be at least 8 characters";
    } else {
      errorpassword.textContent = "";
    }
  });

  cpassword.addEventListener('input', function () {
    if (cpassword.value.trim() === "") {
      errorcpassword.textContent = "Please confirm password";
    } else if (cpassword.value !== password.value) {
      errorcpassword.textContent = "Passwords do not match";
    } else {
      errorcpassword.textContent = "";
    }
  });
});

function validationPasswordChecking(event) {
  const password = document.getElementById("password");
  const cpassword = document.getElementById("cpassword");
  const errorpassword = document.getElementById("errorpassword");
  const errorcpassword = document.getElementById("errorcpassword");

  let isValid = true;

  if (password.value.trim() === "") {
    errorpassword.textContent = "Please enter password";
    isValid = false;
  } else if (password.value.length < 8) {
    errorpassword.textContent = "Password must be at least 8 characters";
    isValid = false;
  } else {
    errorpassword.textContent = "";
  }

  if (cpassword.value.trim() === "") {
    errorcpassword.textContent = "Please confirm password";
    isValid = false;
  } else if (cpassword.value !== password.value) {
    errorcpassword.textContent = "Passwords do not match";
    isValid = false;
  } else {
    errorcpassword.textContent = "";
  }

  if (!isValid) {
    event.preventDefault();
    // Optional SweetAlert if you want a popup:
    // Swal.fire('Error', 'Please fix the validation errors before submitting.', 'error');
  }

  return isValid;
}
</script>
